#include <Eigen/Dense>
#include "Link.h"

void Link::draw(MatrixStack &M) {
   M.pushMatrix();
   M.multMatrix(Ep);
   M.rotate(angle, Eigen::Vector3f(0,0,1));
   M.pushMatrix();
   M.multMatrix(Em);
   M.draw();
   M.popMatrix();
   for (int i = 0; i < children.size(); i++) {
      children[i].draw(M);
   }
   M.popMatrix();
}